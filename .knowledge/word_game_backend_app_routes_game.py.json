{"is_source_file": true, "format": "Python", "description": "This file implements backend API endpoints for a daily word-guessing game using Flask and Flask-Smorest, including game state management, word selection, and user interaction endpoints.", "external_files": ["flask", "flask_smorest", "marshmallow"], "external_methods": ["request.cookies.get", "make_response", "hashlib.sha256", "random.random", "datetime.now", "datetime.utcnow"], "published": ["GameStatus", "GameGuess"], "classes": [{"name": "GuessRequestSchema", "description": "Schema for validating the guess input from the user."}, {"name": "GuessResponseSchema", "description": "Schema for outputting the feedback after a guess is submitted."}, {"name": "StatusResponseSchema", "description": "Schema for representing the current game status."}], "methods": [{"name": "str today_key()", "description": "Generates a string key representing the current date for daily game sessions.", "scope": "", "scopeKind": ""}, {"name": "str select_daily_word(date_key: str)", "description": "Deterministically selects the word of the day based on the date.", "scope": "", "scopeKind": ""}, {"name": "str ensure_token()", "description": "Ensures a user session token exists, generating one if absent.", "scope": "", "scopeKind": ""}, {"name": "Dict get_state_for_today(token: str)", "description": "Retrieves or initializes the game state for a user for the current day.", "scope": "", "scopeKind": ""}, {"name": "List[str] score_guess(guess: str, answer: str)", "description": "Scores a user's guess against the answer, returning feedback per letter.", "scope": "", "scopeKind": ""}, {"name": "__init__(self, *args, **kwargs)", "scope": "GuessRequestSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "get(self)", "scope": "GameStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "post(self, json_data)", "scope": "GameGuess", "scopeKind": "class", "description": "unavailable"}, {"name": "None validate_guess(self, value: str)", "scope": "GuessRequestSchema", "scopeKind": "class", "description": "unavailable"}], "calls": ["select_daily_word", "request.cookies.get", "make_response", "hashlib.sha256", "random.random", "datetime.now", "datetime.utcnow"], "search-terms": ["daily word game", "Flask API endpoints", "game state management", "word selection", "guess scoring", "session token", "in-memory store", "game status", "submit guess", "game endpoint"], "state": 2, "file_id": 7, "knowledge_revision": 16, "git_revision": "", "ctags": [{"_type": "tag", "name": "GameGuess", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^class GameGuess(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GameStatus", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^class GameStatus(MethodView):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GuessRequestSchema", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^class GuessRequestSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "GuessResponseSchema", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^class GuessResponseSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "MAX_ATTEMPTS", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^MAX_ATTEMPTS = 5$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "STORE", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^STORE: Dict[str, Dict[str, Dict]] = {}$/", "language": "Python", "typeref": "typename:Dict[str, Dict[str, Dict]]", "kind": "variable"}, {"_type": "tag", "name": "StatusResponseSchema", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^class StatusResponseSchema(Schema):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WORD_LENGTH", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^WORD_LENGTH = 6$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "WORD_LIST", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^WORD_LIST: List[str] = [$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    def __init__(self, *args, **kwargs):$/", "language": "Python", "kind": "member", "signature": "(self, *args, **kwargs)", "scope": "GuessRequestSchema", "scopeKind": "class"}, {"_type": "tag", "name": "attempts", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    attempts = fields.List(fields.List(fields.String()), required=True, description=\"List of fee/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "attempts_used", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    attempts_used = fields.Integer(required=True, description=\"Number of attempts used so far (i/", "language": "Python", "kind": "variable", "scope": "GuessResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "attempts_used", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    attempts_used = fields.Integer(required=True, description=\"Number of attempts used\")$/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "blp", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^blp = Blueprint($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "date", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    date = fields.String(required=True, description=\"YYYYMMDD for today's game\")$/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "ensure_token", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^def ensure_token() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "feedback", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    feedback = fields.List(fields.String(), required=True, description=\"Per-letter feedback: gre/", "language": "Python", "kind": "variable", "scope": "GuessResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    def get(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "GameStatus", "scopeKind": "class"}, {"_type": "tag", "name": "get_state_for_today", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^def get_state_for_today(token: str) -> Dict:$/", "language": "Python", "typeref": "typename:Dict", "kind": "function", "signature": "(token: str)"}, {"_type": "tag", "name": "guess", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    guess = fields.String($/", "language": "Python", "kind": "variable", "scope": "GuessRequestSchema", "scopeKind": "class"}, {"_type": "tag", "name": "guesses", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    guesses = fields.List(fields.String(), required=True, description=\"List of previous guess st/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "max_attempts", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    max_attempts = fields.Integer(required=True, description=\"Maximum attempts allowed per day\")$/", "language": "Python", "kind": "variable", "scope": "GuessResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "max_attempts", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    max_attempts = fields.Integer(required=True, description=\"Maximum attempts allowed per day\")$/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    message = fields.String(required=True, description=\"Human-readable message\")$/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    message = fields.String(required=True, description=\"Human-readable status message\")$/", "language": "Python", "kind": "variable", "scope": "GuessResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    def post(self, json_data):$/", "language": "Python", "kind": "member", "signature": "(self, json_data)", "scope": "GameGuess", "scopeKind": "class"}, {"_type": "tag", "name": "score_guess", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^def score_guess(guess: str, answer: str) -> List[str]:$/", "language": "Python", "typeref": "typename:List[str]", "kind": "function", "signature": "(guess: str, answer: str)"}, {"_type": "tag", "name": "select_daily_word", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^def select_daily_word(date_key: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(date_key: str)"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    status = fields.String(required=True, description=\"Game status after the guess: in_progress /", "language": "Python", "kind": "variable", "scope": "GuessResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    status = fields.String(required=True, description=\"in_progress | won | lost\")$/", "language": "Python", "kind": "variable", "scope": "StatusResponseSchema", "scopeKind": "class"}, {"_type": "tag", "name": "today_key", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^def today_key() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "validate_guess", "path": "/home/kavia/workspace/code-generation/daily-word-guess-833-842/word_game_backend/app/routes/game.py", "pattern": "/^    def validate_guess(self, value: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, value: str)", "scope": "GuessRequestSchema", "scopeKind": "class"}], "hash": "09ca82beedb2addeaaf344bfbce59f81", "format-version": 4, "code-base-name": "word_game_backend", "filename": "word_game_backend/app/routes/game.py", "fields": [{"name": "MAX_ATTEMPTS = 5", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, Dict[str, Dict]] STORE", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "WORD_LENGTH = 6", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] WORD_LIST", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "attempts = fields.List(fields.List(fields.String()), required=True, description=\"List of fee/", "scope": "StatusResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "attempts_used = fields.Integer(required=True, description=\"Number of attempts used so far (i/", "scope": "GuessResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "attempts_used = fields.Integer(required=True, description=\"Number of attempts used\")", "scope": "StatusResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "blp = Blueprint(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "date = fields.String(required=True, description=\"YYYYMMDD for today's game\")", "scope": "StatusResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "feedback = fields.List(fields.String(), required=True, description=\"Per-letter feedback: gre/", "scope": "GuessResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "guess = fields.String(", "scope": "GuessRequestSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "guesses = fields.List(fields.String(), required=True, description=\"List of previous guess st/", "scope": "StatusResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "max_attempts = fields.Integer(required=True, description=\"Maximum attempts allowed per day\")", "scope": "GuessResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "message = fields.String(required=True, description=\"Human-readable message\")", "scope": "StatusResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "message = fields.String(required=True, description=\"Human-readable status message\")", "scope": "GuessResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "status = fields.String(required=True, description=\"Game status after the guess: in_progress /", "scope": "GuessResponseSchema", "scopeKind": "class", "description": "unavailable"}, {"name": "status = fields.String(required=True, description=\"in_progress | won | lost\")", "scope": "StatusResponseSchema", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"16": ""}]}